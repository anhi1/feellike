<div class="formulario">


<!--IMAGEN-->

<span class="titulo">Editar<b> Mi Perfil</b></span>
<div *ngIf="user && user.photo">
  <img class="imagen" [src]="'http://localhost:3000/uploads/' + user!.photo"/>
</div>



<!--FORMULARIO-->
<form [formGroup]="userForm" (ngSubmit)="save()">
  
  <input type="hidden" formControlName="id">

  <mat-form-field>
    <mat-label>fullName</mat-label>
    <input matInput type="text" formControlName="fullName">
  </mat-form-field>

  <mat-form-field>
    <mat-label>Biografia</mat-label>
    <input matInput type="text" formControlName="bio" *ngIf="userForm">
  </mat-form-field>

  <mat-form-field>
    <mat-label>Ciudad</mat-label>
    <input matInput type="text" formControlName="city" *ngIf="userForm">
  </mat-form-field>

  <mat-form-field>
    <input matInput type="number" formControlName="phone" *ngIf="userForm">
    <mat-label>Teléfono</mat-label>
  </mat-form-field>

  <mat-form-field>
    <input matInput type="number" formControlName="code" *ngIf="userForm">
    <mat-label>Código postal</mat-label>
  </mat-form-field>

  <mat-form-field>
    <mat-label>Email</mat-label>
    <input type="email" matInput formControlName="email"
           placeholder="Ex. pat@example.com">
    
    <mat-hint>Te enviaremos un correo para la verificación.</mat-hint>
    <mat-error *ngIf="userForm.get('email')?.invalid &&
                      userForm.get('email')?.touched &&
                      userForm.get('email')?.getError('required')">
      Email obligatorio.
    </mat-error>
    <mat-error *ngIf="userForm.get('email')?.invalid &&
                      userForm.get('email')?.touched &&
                      userForm.get('email')?.getError('email')">
    Formato email incorrecto.
    </mat-error>
  </mat-form-field>
<br>
<br>

  <button class="btn" type="submit"
        [disabled]="userForm.invalid">
      Enviar
  </button>
</form>

</div>